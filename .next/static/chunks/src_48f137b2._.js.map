{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\r\n\r\nimport {cn} from '@/lib/utils';\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\r\n  ({className, ...props}, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nTextarea.displayName = 'Textarea';\r\n\r\nexport {Textarea};\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/lib/backend-service.ts"],"sourcesContent":["export class BackendService {\r\n  async probarConexion(): Promise<{ success: boolean; message: string }> {\r\n    try {\r\n      const response = await fetch('/api/seguridad/fichas');\r\n      \r\n      if (response.ok) {\r\n        return { \r\n          success: true, \r\n          message: '‚úÖ Sistema funcionando correctamente' \r\n        };\r\n      } else {\r\n        return { \r\n          success: false, \r\n          message: `‚ùå Error en el sistema: ${response.status}` \r\n        };\r\n      }\r\n    } catch (error) {\r\n      return { \r\n        success: false, \r\n        message: '‚ùå No se pudo conectar al sistema' \r\n      };\r\n    }\r\n  }\r\n\r\n  async obtenerFichas(search?: string, estado?: string) {\r\n    const params = new URLSearchParams();\r\n    if (search) params.append('search', search);\r\n    if (estado) params.append('estado', estado);\r\n    \r\n    const queryString = params.toString();\r\n    const url = queryString ? `/api/seguridad/fichas?${queryString}` : '/api/seguridad/fichas';\r\n    \r\n    const response = await fetch(url);\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || 'Error al obtener fichas');\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  // CAMBIAR: number ‚Üí string\r\n  async obtenerFicha(id: string) {\r\n    const response = await fetch(`/api/seguridad/fichas/${id}`);\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || 'Error al obtener la ficha');\r\n    }\r\n    return response.json();\r\n  }\r\n\r\n  async crearFicha(fichaData: any) {\r\n    const response = await fetch('/api/seguridad/fichas', {\r\n      method: 'POST',\r\n      headers: { \r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(fichaData),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || 'Error al crear ficha');\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n\r\n  // ‚úÖ Esta est√° correcta\r\n  async actualizarFicha(id: string, datos: any): Promise<any> {\r\n    try {\r\n      const response = await fetch(`/api/seguridad/fichas/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(datos),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || `Error ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('‚ùå Error actualizando ficha:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // CAMBIAR: number ‚Üí string\r\n  async eliminarFicha(id: string) {\r\n    const response = await fetch(`/api/seguridad/fichas/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.error || 'Error al eliminar ficha');\r\n    }\r\n    \r\n    return response.json();\r\n  }\r\n}\r\n\r\nexport const backendService = new BackendService();"],"names":[],"mappings":";;;;AAAO,MAAM;IACX,MAAM,iBAAiE;QACrE,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAE7B,IAAI,SAAS,EAAE,EAAE;gBACf,OAAO;oBACL,SAAS;oBACT,SAAS;gBACX;YACF,OAAO;gBACL,OAAO;oBACL,SAAS;oBACT,SAAS,CAAC,uBAAuB,EAAE,SAAS,MAAM,EAAE;gBACtD;YACF;QACF,EAAE,OAAO,OAAO;YACd,OAAO;gBACL,SAAS;gBACT,SAAS;YACX;QACF;IACF;IAEA,MAAM,cAAc,MAAe,EAAE,MAAe,EAAE;QACpD,MAAM,SAAS,IAAI;QACnB,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QACpC,IAAI,QAAQ,OAAO,MAAM,CAAC,UAAU;QAEpC,MAAM,cAAc,OAAO,QAAQ;QACnC,MAAM,MAAM,cAAc,CAAC,sBAAsB,EAAE,aAAa,GAAG;QAEnE,MAAM,WAAW,MAAM,MAAM;QAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;QACrC;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,2BAA2B;IAC3B,MAAM,aAAa,EAAU,EAAE;QAC7B,MAAM,WAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,IAAI;QAC1D,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;QACrC;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,WAAW,SAAc,EAAE;QAC/B,MAAM,WAAW,MAAM,MAAM,yBAAyB;YACpD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;QACrC;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA,uBAAuB;IACvB,MAAM,gBAAgB,EAAU,EAAE,KAAU,EAAgB;QAC1D,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,IAAI,EAAE;gBAC1D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI,CAAC,MAAM,EAAE,SAAS,MAAM,EAAE;YAC/D;YAEA,OAAO,MAAM,SAAS,IAAI;QAC5B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,MAAM;QACR;IACF;IAEA,2BAA2B;IAC3B,MAAM,cAAc,EAAU,EAAE;QAC9B,MAAM,WAAW,MAAM,MAAM,CAAC,sBAAsB,EAAE,IAAI,EAAE;YAC1D,QAAQ;QACV;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;QACrC;QAEA,OAAO,SAAS,IAAI;IACtB;AACF;AAEO,MAAM,iBAAiB,IAAI","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/app/dashboard/seguridad/crear-ficha.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useRef } from 'react';\r\nimport { X, Save, Camera, Upload } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { backendService } from '@/lib/backend-service';\r\n\r\n// Define la interfaz completa para los datos de la ficha\r\ninterface FichaSeguridad {\r\n  id?: number;\r\n  // Datos Personales\r\n  nombre_adolescente: string;\r\n  expediente_administrativo: string;\r\n  edad: string;\r\n  fecha_nacimiento: string;\r\n  originario: string;\r\n  residente: string;\r\n  fecha_ingreso: string;\r\n  hora_ingreso: string;\r\n  numero_dni: string;\r\n  alias: string;\r\n  simpatizante: string;\r\n  estado_civil: string;\r\n  grado_escolaridad: string;\r\n  nombre_responsable: string;\r\n  telefono_responsable: string;\r\n  \r\n  // Datos Judiciales\r\n  juzgado_remitente: string;\r\n  juez_remite: string;\r\n  expediente_judicial: string;\r\n  numero_oficio_ingreso: string;\r\n  infraccion_penal: string;\r\n  es_reincidente: boolean;\r\n  estado_centro_anterior: boolean;\r\n  proceso_judicial_anterior: boolean;\r\n  forma_ingreso: string;\r\n\r\n  // Estado F√≠sico\r\n  golpes: string;\r\n  heridas: string;\r\n  cicatrices: string;\r\n  enfermedad: string;\r\n  impedimentos_fisicos: string;\r\n  ansiedad: string;\r\n  personal_medico_atendio: string;\r\n\r\n  // Aprehensi√≥n y Traslado\r\n  fecha_aprehension: string;\r\n  quien_aprehendio: string;\r\n  golpeado_aprehension: boolean;\r\n  golpeado_traslado: boolean;\r\n  quien_traslado: string;\r\n  observaciones: string;\r\n  nombre_supervisor_seguridad: string;\r\n  fecha_entrevista: string;\r\n\r\n  // Propiedades adicionales\r\n  codigo_expediente: string;\r\n  estado: string;\r\n  fecha_creacion: string;\r\n  foto_persona?: string;\r\n}\r\n\r\ninterface CrearFichaSeguridadProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onFichaCreada: (nuevaFicha: Omit<FichaSeguridad, \"id\">) => void;\r\n}\r\n\r\nexport function CrearFichaSeguridad({ isOpen, onClose, onFichaCreada }: CrearFichaSeguridadProps) {\r\n  const [formData, setFormData] = useState({\r\n    // Datos Personales\r\n    nombre_adolescente: '',\r\n    expediente_administrativo: '',\r\n    edad: '',\r\n    fecha_nacimiento: '',\r\n    originario: '',\r\n    residente: '',\r\n    fecha_ingreso: '',\r\n    hora_ingreso: '',\r\n    numero_dni: '',\r\n    alias: '',\r\n    simpatizante: '',\r\n    estado_civil: '',\r\n    grado_escolaridad: '',\r\n    nombre_responsable: '',\r\n    telefono_responsable: '',\r\n    \r\n    // Datos Judiciales\r\n    juzgado_remitente: '',\r\n    juez_remite: '',\r\n    expediente_judicial: '',\r\n    numero_oficio_ingreso: '',\r\n    infraccion_penal: '',\r\n    es_reincidente: false,\r\n    estado_centro_anterior: false,\r\n    proceso_judicial_anterior: false,\r\n    forma_ingreso: '',\r\n\r\n    // Estado F√≠sico\r\n    golpes: '',\r\n    heridas: '',\r\n    cicatrices: '',\r\n    enfermedad: '',\r\n    impedimentos_fisicos: '',\r\n    ansiedad: '',\r\n    personal_medico_atendio: '',\r\n\r\n    // Aprehensi√≥n y Traslado\r\n    fecha_aprehension: '',\r\n    quien_aprehendio: '',\r\n    golpeado_aprehension: false,\r\n    golpeado_traslado: false,\r\n    quien_traslado: '',\r\n    observaciones: '',\r\n    nombre_supervisor_seguridad: '',\r\n    fecha_entrevista: '',\r\n\r\n    // Propiedades adicionales con valores por defecto\r\n    codigo_expediente: '',\r\n    estado: 'activo',\r\n    fecha_creacion: new Date().toISOString().split('T')[0],\r\n  });\r\n\r\n  const [fotoPreview, setFotoPreview] = useState<string | null>(null);\r\n  const [fotoArchivo, setFotoArchivo] = useState<File | null>(null);\r\n  const [guardando, setGuardando] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Manejar selecci√≥n de foto\r\n  const handleFotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      if (!file.type.startsWith('image/')) {\r\n        alert('Por favor selecciona un archivo de imagen v√°lido');\r\n        return;\r\n      }\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert('La imagen no debe superar los 5MB');\r\n        return;\r\n      }\r\n      setFotoArchivo(file);\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setFotoPreview(e.target?.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleEliminarFoto = () => {\r\n    setFotoPreview(null);\r\n    setFotoArchivo(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setGuardando(true);\r\n\r\n    try {\r\n      console.log('üìù Creando nueva ficha...');\r\n\r\n      // Validaciones b√°sicas\r\n      if (!formData.nombre_adolescente.trim()) {\r\n        alert('El nombre del adolescente es requerido');\r\n        return;\r\n      }\r\n\r\n      if (!formData.expediente_administrativo.trim()) {\r\n        alert('El expediente administrativo es requerido');\r\n        return;\r\n      }\r\n\r\n      if (!formData.fecha_ingreso) {\r\n        alert('La fecha de ingreso es requerida');\r\n        return;\r\n      }\r\n\r\n      // Generar c√≥digo de expediente √∫nico si no se proporcion√≥\r\n      const datosParaEnviar = {\r\n        ...formData,\r\n        codigo_expediente: formData.codigo_expediente || `EXP-${new Date().getFullYear()}-${Date.now().toString().slice(-6)}`,\r\n        fecha_creacion: new Date().toISOString().split('T')[0],\r\n      };\r\n\r\n      console.log('üì§ Enviando datos al backend:', datosParaEnviar);\r\n\r\n      // Crear ficha en el backend\r\n      const resultado = await backendService.crearFicha(datosParaEnviar);\r\n      \r\n      console.log('‚úÖ Ficha creada exitosamente:', resultado);\r\n\r\n      // Llamar onFichaCreada con los datos del formulario\r\n      onFichaCreada(datosParaEnviar);\r\n      onClose();\r\n      \r\n      // Limpiar formulario\r\n      resetForm();\r\n      \r\n    } catch (error: any) {\r\n      console.error('‚ùå Error creando ficha:', error);\r\n      alert('Error al guardar la ficha: ' + error.message);\r\n    } finally {\r\n      setGuardando(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      nombre_adolescente: '',\r\n      expediente_administrativo: '',\r\n      edad: '',\r\n      fecha_nacimiento: '',\r\n      originario: '',\r\n      residente: '',\r\n      fecha_ingreso: '',\r\n      hora_ingreso: '',\r\n      numero_dni: '',\r\n      alias: '',\r\n      simpatizante: '',\r\n      estado_civil: '',\r\n      grado_escolaridad: '',\r\n      nombre_responsable: '',\r\n      telefono_responsable: '',\r\n      juzgado_remitente: '',\r\n      juez_remite: '',\r\n      expediente_judicial: '',\r\n      numero_oficio_ingreso: '',\r\n      infraccion_penal: '',\r\n      es_reincidente: false,\r\n      estado_centro_anterior: false,\r\n      proceso_judicial_anterior: false,\r\n      forma_ingreso: '',\r\n      golpes: '',\r\n      heridas: '',\r\n      cicatrices: '',\r\n      enfermedad: '',\r\n      impedimentos_fisicos: '',\r\n      ansiedad: '',\r\n      personal_medico_atendio: '',\r\n      fecha_aprehension: '',\r\n      quien_aprehendio: '',\r\n      golpeado_aprehension: false,\r\n      golpeado_traslado: false,\r\n      quien_traslado: '',\r\n      observaciones: '',\r\n      nombre_supervisor_seguridad: '',\r\n      fecha_entrevista: '',\r\n      codigo_expediente: '',\r\n      estado: 'activo',\r\n      fecha_creacion: new Date().toISOString().split('T')[0],\r\n    });\r\n    setFotoPreview(null);\r\n    setFotoArchivo(null);\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value, type } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? (e.target as HTMLInputElement).checked : value\r\n    }));\r\n  };\r\n\r\n  // Funci√≥n para manejar checkboxes espec√≠ficamente\r\n  const handleBooleanChange = (name: string, checked: boolean) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: checked\r\n    }));\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b p-6\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h2 className=\"text-2xl font-bold\">Nueva Ficha de Ingreso - √Årea de Seguridad</h2>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\r\n              <X className=\"h-5 w-5\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-8\">\r\n          {/* SECCI√ìN 1: FOTO Y DATOS PERSONALES */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n            {/* Columna de Foto */}\r\n            <div className=\"lg:col-span-1\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">FOTO DEL ADOLESCENTE</h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\r\n                  {fotoPreview ? (\r\n                    <div className=\"space-y-2\">\r\n                      <img \r\n                        src={fotoPreview} \r\n                        alt=\"Preview\" \r\n                        className=\"w-32 h-32 object-cover rounded-lg mx-auto\"\r\n                      />\r\n                      <Button \r\n                        type=\"button\" \r\n                        variant=\"outline\" \r\n                        size=\"sm\" \r\n                        onClick={handleEliminarFoto}\r\n                        className=\"text-red-600\"\r\n                      >\r\n                        Eliminar Foto\r\n                      </Button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"py-8\">\r\n                      <Camera className=\"h-12 w-12 text-gray-400 mx-auto mb-2\" />\r\n                      <p className=\"text-sm text-gray-500\">No hay foto seleccionada</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFotoChange}\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                  />\r\n                  <Button \r\n                    type=\"button\" \r\n                    variant=\"outline\" \r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    className=\"w-full flex items-center gap-2\"\r\n                  >\r\n                    <Upload className=\"h-4 w-4\" />\r\n                    Subir Foto\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Columna de Datos Personales */}\r\n            <div className=\"lg:col-span-3\">\r\n              <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS PERSONALES DEL ADOLESCENTE</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Nombre completo *</label>\r\n                  <Input\r\n                    name=\"nombre_adolescente\"\r\n                    value={formData.nombre_adolescente}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">No. Expediente Administrativo *</label>\r\n                  <Input\r\n                    name=\"expediente_administrativo\"\r\n                    value={formData.expediente_administrativo}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">C√≥digo de Expediente</label>\r\n                  <Input\r\n                    name=\"codigo_expediente\"\r\n                    value={formData.codigo_expediente}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Se generar√° autom√°ticamente si est√° vac√≠o\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Edad</label>\r\n                  <Input\r\n                    name=\"edad\"\r\n                    type=\"number\"\r\n                    value={formData.edad}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Fecha de Nacimiento</label>\r\n                  <Input\r\n                    name=\"fecha_nacimiento\"\r\n                    type=\"date\"\r\n                    value={formData.fecha_nacimiento}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Originario</label>\r\n                  <Input\r\n                    name=\"originario\"\r\n                    value={formData.originario}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Residente</label>\r\n                  <Input\r\n                    name=\"residente\"\r\n                    value={formData.residente}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Fecha de Ingreso *</label>\r\n                  <Input\r\n                    name=\"fecha_ingreso\"\r\n                    type=\"date\"\r\n                    value={formData.fecha_ingreso}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Hora de Ingreso</label>\r\n                  <Input\r\n                    name=\"hora_ingreso\"\r\n                    type=\"time\"\r\n                    value={formData.hora_ingreso}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">N√∫mero de DNI</label>\r\n                  <Input\r\n                    name=\"numero_dni\"\r\n                    value={formData.numero_dni}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Alias</label>\r\n                  <Input\r\n                    name=\"alias\"\r\n                    value={formData.alias}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Simpatizante</label>\r\n                  <Input\r\n                    name=\"simpatizante\"\r\n                    value={formData.simpatizante}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Estado civil</label>\r\n                  <Input\r\n                    name=\"estado_civil\"\r\n                    value={formData.estado_civil}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Grado de Escolaridad</label>\r\n                  <Input\r\n                    name=\"grado_escolaridad\"\r\n                    value={formData.grado_escolaridad}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Nombre del responsable</label>\r\n                  <Input\r\n                    name=\"nombre_responsable\"\r\n                    value={formData.nombre_responsable}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Tel√©fono del responsable</label>\r\n                  <Input\r\n                    name=\"telefono_responsable\"\r\n                    value={formData.telefono_responsable}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 2: DATOS JUDICIALES */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS JUDICIALES</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Juzgado remitente</label>\r\n                <Input\r\n                  name=\"juzgado_remitente\"\r\n                  value={formData.juzgado_remitente}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Juez que remite</label>\r\n                <Input\r\n                  name=\"juez_remite\"\r\n                  value={formData.juez_remite}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Expediente Judicial</label>\r\n                <Input\r\n                  name=\"expediente_judicial\"\r\n                  value={formData.expediente_judicial}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">No. de Oficio de Ingreso</label>\r\n                <Input\r\n                  name=\"numero_oficio_ingreso\"\r\n                  value={formData.numero_oficio_ingreso}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Infracci√≥n Penal por la que ingreso</label>\r\n                <Textarea\r\n                  name=\"infraccion_penal\"\r\n                  value={formData.infraccion_penal}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"es_reincidente\"\r\n                  checked={formData.es_reincidente}\r\n                  onChange={(e) => handleBooleanChange('es_reincidente', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Es reincidente</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"estado_centro_anterior\"\r\n                  checked={formData.estado_centro_anterior}\r\n                  onChange={(e) => handleBooleanChange('estado_centro_anterior', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Ha estado en otro Centro</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"proceso_judicial_anterior\"\r\n                  checked={formData.proceso_judicial_anterior}\r\n                  onChange={(e) => handleBooleanChange('proceso_judicial_anterior', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Proceso judicial anterior</label>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Forma de Ingreso</label>\r\n                <select\r\n                  name=\"forma_ingreso\"\r\n                  value={formData.forma_ingreso}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border rounded-md px-3 py-2\"\r\n                >\r\n                  <option value=\"\">Seleccionar...</option>\r\n                  <option value=\"medida_cautelar\">Medida Cautelar</option>\r\n                  <option value=\"sancion_privativa\">Sanci√≥n Privativa</option>\r\n                  <option value=\"traslado\">Traslado</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 3: ESTADO F√çSICO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">ESTADO F√çSICO AL MOMENTO DE SU INGRESO</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Golpes</label>\r\n                <Textarea\r\n                  name=\"golpes\"\r\n                  value={formData.golpes}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Heridas</label>\r\n                <Textarea\r\n                  name=\"heridas\"\r\n                  value={formData.heridas}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Cicatrices</label>\r\n                <Textarea\r\n                  name=\"cicatrices\"\r\n                  value={formData.cicatrices}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Enfermedad</label>\r\n                <Textarea\r\n                  name=\"enfermedad\"\r\n                  value={formData.enfermedad}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Impedimentos f√≠sicos</label>\r\n                <Textarea\r\n                  name=\"impedimentos_fisicos\"\r\n                  value={formData.impedimentos_fisicos}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Ansiedad</label>\r\n                <Textarea\r\n                  name=\"ansiedad\"\r\n                  value={formData.ansiedad}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Personal del √°rea m√©dica que lo atendi√≥</label>\r\n                <Input\r\n                  name=\"personal_medico_atendio\"\r\n                  value={formData.personal_medico_atendio}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 4: APREHENSI√ìN Y TRASLADO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">APREHENSI√ìN Y TRASLADO AL CPI</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Fecha de Aprehensi√≥n</label>\r\n                <Input\r\n                  name=\"fecha_aprehension\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_aprehension}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Qui√©n lo aprehendi√≥</label>\r\n                <Input\r\n                  name=\"quien_aprehendio\"\r\n                  value={formData.quien_aprehendio}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"golpeado_aprehension\"\r\n                  checked={formData.golpeado_aprehension}\r\n                  onChange={(e) => handleBooleanChange('golpeado_aprehension', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Fue golpeado durante aprehensi√≥n</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"golpeado_traslado\"\r\n                  checked={formData.golpeado_traslado}\r\n                  onChange={(e) => handleBooleanChange('golpeado_traslado', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Fue golpeado durante traslado</label>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Qui√©n traslad√≥ al CPI</label>\r\n                <Input\r\n                  name=\"quien_traslado\"\r\n                  value={formData.quien_traslado}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Nombre del supervisor</label>\r\n                <Input\r\n                  name=\"nombre_supervisor_seguridad\"\r\n                  value={formData.nombre_supervisor_seguridad}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Fecha de entrevista</label>\r\n                <Input\r\n                  name=\"fecha_entrevista\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_entrevista}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Observaciones</label>\r\n                <Textarea\r\n                  name=\"observaciones\"\r\n                  value={formData.observaciones}\r\n                  onChange={handleChange}\r\n                  rows={4}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Botones de acci√≥n */}\r\n          <div className=\"flex gap-2 justify-end pt-4 border-t\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\r\n              Cancelar\r\n            </Button>\r\n            <Button type=\"submit\" disabled={guardando} className=\"flex items-center gap-2\">\r\n              <Save className=\"h-4 w-4\" />\r\n              {guardando ? 'Guardando...' : 'Guardar Ficha'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1882, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/app/dashboard/seguridad/editar-ficha.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { X, Save, Camera, Upload } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { backendService } from '@/lib/backend-service';\r\n\r\ninterface FichaSeguridad {\r\n  id: number;\r\n  // Propiedades adicionales que faltaban\r\n  codigo_expediente: string;\r\n  estado: string;\r\n  fecha_creacion: string;\r\n  \r\n  // Datos Personales\r\n  nombre_adolescente: string;\r\n  expediente_administrativo: string;\r\n  edad: string;\r\n  fecha_nacimiento: string;\r\n  originario: string;\r\n  residente: string;\r\n  fecha_ingreso: string;\r\n  hora_ingreso: string;\r\n  numero_dni: string;\r\n  alias: string;\r\n  simpatizante: string;\r\n  estado_civil: string;\r\n  grado_escolaridad: string;\r\n  nombre_responsable: string;\r\n  telefono_responsable: string;\r\n  \r\n  // Datos Judiciales\r\n  juzgado_remitente: string;\r\n  juez_remite: string;\r\n  expediente_judicial: string;\r\n  numero_oficio_ingreso: string;\r\n  infraccion_penal: string;\r\n  es_reincidente: boolean;\r\n  estado_centro_anterior: boolean;\r\n  proceso_judicial_anterior: boolean;\r\n  forma_ingreso: string;\r\n\r\n  // Estado F√≠sico\r\n  golpes: string;\r\n  heridas: string;\r\n  cicatrices: string;\r\n  enfermedad: string;\r\n  impedimentos_fisicos: string;\r\n  ansiedad: string;\r\n  personal_medico_atendio: string;\r\n\r\n  // Aprehensi√≥n y Traslado\r\n  fecha_aprehension: string;\r\n  quien_aprehendio: string;\r\n  golpeado_aprehension: boolean;\r\n  golpeado_traslado: boolean;\r\n  quien_traslado: string;\r\n  observaciones: string;\r\n  nombre_supervisor_seguridad: string;\r\n  fecha_entrevista: string;\r\n  foto_persona?: string;\r\n}\r\n\r\ninterface EditarFichaSeguridadProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onFichaActualizada: (fichaActualizada: FichaSeguridad) => void;\r\n  ficha: FichaSeguridad | null;\r\n}\r\n\r\nexport function EditarFichaSeguridad({ isOpen, onClose, onFichaActualizada, ficha }: EditarFichaSeguridadProps) {\r\n  const [formData, setFormData] = useState<FichaSeguridad | null>(null);\r\n  const [fotoPreview, setFotoPreview] = useState<string | null>(null);\r\n  const [fotoArchivo, setFotoArchivo] = useState<File | null>(null);\r\n  const [guardando, setGuardando] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Cargar datos de la ficha cuando se abre el modal\r\n  useEffect(() => {\r\n    if (ficha) {\r\n      setFormData(ficha);\r\n      if (ficha.foto_persona) {\r\n        setFotoPreview(ficha.foto_persona);\r\n      }\r\n    }\r\n  }, [ficha]);\r\n\r\n  const handleFotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      if (!file.type.startsWith('image/')) {\r\n        alert('Por favor selecciona un archivo de imagen v√°lido');\r\n        return;\r\n      }\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert('La imagen no debe superar los 5MB');\r\n        return;\r\n      }\r\n      setFotoArchivo(file);\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setFotoPreview(e.target?.result as string);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleEliminarFoto = () => {\r\n    setFotoPreview(null);\r\n    setFotoArchivo(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\nconst handleSubmit = async (e: React.FormEvent) => {\r\n  e.preventDefault();\r\n  if (!formData) return;\r\n\r\n  setGuardando(true);\r\n\r\n  try {\r\n    console.log('üìù Actualizando ficha:', formData.id);\r\n    \r\n    // Preparar datos para enviar (excluir propiedades que no queremos actualizar)\r\n    const { id, fecha_creacion, ...datosActualizacion } = formData;\r\n    \r\n    // Convertir ID a string antes de enviarlo\r\n    const idString = id.toString();\r\n    \r\n    // Actualizar en el backend\r\n    const resultado = await backendService.actualizarFicha(idString, datosActualizacion);\r\n    \r\n    console.log('‚úÖ Ficha actualizada exitosamente');\r\n    \r\n    // Llamar onFichaActualizada con los datos actualizados\r\n    onFichaActualizada(formData);\r\n    onClose();\r\n    \r\n  } catch (error: any) {\r\n    console.error('‚ùå Error actualizando ficha:', error);\r\n    alert('Error al actualizar la ficha: ' + error.message);\r\n  } finally {\r\n    setGuardando(false);\r\n  }\r\n};\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value, type } = e.target;\r\n    if (!formData) return;\r\n\r\n    setFormData(prev => ({\r\n      ...prev!,\r\n      [name]: type === 'checkbox' ? (e.target as HTMLInputElement).checked : value\r\n    }));\r\n  };\r\n\r\n  // Funci√≥n para manejar campos booleanos (checkboxes)\r\n  const handleBooleanChange = (name: string, checked: boolean) => {\r\n    if (!formData) return;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev!,\r\n      [name]: checked\r\n    }));\r\n  };\r\n\r\n  if (!isOpen || !formData) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b p-6\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h2 className=\"text-2xl font-bold\">Editar Ficha - {formData.nombre_adolescente}</h2>\r\n            <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\r\n              <X className=\"h-5 w-5\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-8\">\r\n          {/* SECCI√ìN 1: FOTO Y DATOS PERSONALES */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n            {/* Columna de Foto */}\r\n            <div className=\"lg:col-span-1\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">FOTO DEL ADOLESCENTE</h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center\">\r\n                  {fotoPreview ? (\r\n                    <div className=\"space-y-2\">\r\n                      <img \r\n                        src={fotoPreview} \r\n                        alt=\"Preview\" \r\n                        className=\"w-32 h-32 object-cover rounded-lg mx-auto\"\r\n                      />\r\n                      <Button \r\n                        type=\"button\" \r\n                        variant=\"outline\" \r\n                        size=\"sm\" \r\n                        onClick={handleEliminarFoto}\r\n                        className=\"text-red-600\"\r\n                      >\r\n                        Eliminar Foto\r\n                      </Button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"py-8\">\r\n                      <Camera className=\"h-12 w-12 text-gray-400 mx-auto mb-2\" />\r\n                      <p className=\"text-sm text-gray-500\">No hay foto seleccionada</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <input\r\n                    type=\"file\"\r\n                    ref={fileInputRef}\r\n                    onChange={handleFotoChange}\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                  />\r\n                  <Button \r\n                    type=\"button\" \r\n                    variant=\"outline\" \r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    className=\"w-full flex items-center gap-2\"\r\n                  >\r\n                    <Upload className=\"h-4 w-4\" />\r\n                    Cambiar Foto\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Columna de Datos Personales */}\r\n            <div className=\"lg:col-span-3\">\r\n              <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS PERSONALES DEL ADOLESCENTE</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Nombre completo *</label>\r\n                  <Input\r\n                    name=\"nombre_adolescente\"\r\n                    value={formData.nombre_adolescente}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">No. Expediente Administrativo *</label>\r\n                  <Input\r\n                    name=\"expediente_administrativo\"\r\n                    value={formData.expediente_administrativo}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">C√≥digo de Expediente</label>\r\n                  <Input\r\n                    name=\"codigo_expediente\"\r\n                    value={formData.codigo_expediente}\r\n                    onChange={handleChange}\r\n                    placeholder=\"C√≥digo √∫nico del expediente\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Estado</label>\r\n                  <select\r\n                    name=\"estado\"\r\n                    value={formData.estado}\r\n                    onChange={handleChange}\r\n                    className=\"w-full border rounded-md px-3 py-2\"\r\n                  >\r\n                    <option value=\"activo\">Activo</option>\r\n                    <option value=\"inactivo\">Inactivo</option>\r\n                    <option value=\"egresado\">Egresado</option>\r\n                    <option value=\"trasladado\">Trasladado</option>\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Edad</label>\r\n                  <Input\r\n                    name=\"edad\"\r\n                    type=\"number\"\r\n                    value={formData.edad}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Fecha de Nacimiento</label>\r\n                  <Input\r\n                    name=\"fecha_nacimiento\"\r\n                    type=\"date\"\r\n                    value={formData.fecha_nacimiento}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Originario</label>\r\n                  <Input\r\n                    name=\"originario\"\r\n                    value={formData.originario}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Residente</label>\r\n                  <Input\r\n                    name=\"residente\"\r\n                    value={formData.residente}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Fecha de Ingreso *</label>\r\n                  <Input\r\n                    name=\"fecha_ingreso\"\r\n                    type=\"date\"\r\n                    value={formData.fecha_ingreso}\r\n                    onChange={handleChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Hora de Ingreso</label>\r\n                  <Input\r\n                    name=\"hora_ingreso\"\r\n                    type=\"time\"\r\n                    value={formData.hora_ingreso}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">N√∫mero de DNI</label>\r\n                  <Input\r\n                    name=\"numero_dni\"\r\n                    value={formData.numero_dni}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Alias</label>\r\n                  <Input\r\n                    name=\"alias\"\r\n                    value={formData.alias}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Simpatizante</label>\r\n                  <Input\r\n                    name=\"simpatizante\"\r\n                    value={formData.simpatizante}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Estado civil</label>\r\n                  <Input\r\n                    name=\"estado_civil\"\r\n                    value={formData.estado_civil}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Grado de Escolaridad</label>\r\n                  <Input\r\n                    name=\"grado_escolaridad\"\r\n                    value={formData.grado_escolaridad}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Nombre del responsable</label>\r\n                  <Input\r\n                    name=\"nombre_responsable\"\r\n                    value={formData.nombre_responsable}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">Tel√©fono del responsable</label>\r\n                  <Input\r\n                    name=\"telefono_responsable\"\r\n                    value={formData.telefono_responsable}\r\n                    onChange={handleChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 2: DATOS JUDICIALES */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS JUDICIALES</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Juzgado remitente</label>\r\n                <Input\r\n                  name=\"juzgado_remitente\"\r\n                  value={formData.juzgado_remitente}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Juez que remite</label>\r\n                <Input\r\n                  name=\"juez_remite\"\r\n                  value={formData.juez_remite}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Expediente Judicial</label>\r\n                <Input\r\n                  name=\"expediente_judicial\"\r\n                  value={formData.expediente_judicial}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">No. de Oficio de Ingreso</label>\r\n                <Input\r\n                  name=\"numero_oficio_ingreso\"\r\n                  value={formData.numero_oficio_ingreso}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Infracci√≥n Penal por la que ingreso</label>\r\n                <Textarea\r\n                  name=\"infraccion_penal\"\r\n                  value={formData.infraccion_penal}\r\n                  onChange={handleChange}\r\n                  rows={3}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"es_reincidente\"\r\n                  checked={formData.es_reincidente}\r\n                  onChange={(e) => handleBooleanChange('es_reincidente', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Es reincidente</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"estado_centro_anterior\"\r\n                  checked={formData.estado_centro_anterior}\r\n                  onChange={(e) => handleBooleanChange('estado_centro_anterior', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Ha estado en otro Centro</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"proceso_judicial_anterior\"\r\n                  checked={formData.proceso_judicial_anterior}\r\n                  onChange={(e) => handleBooleanChange('proceso_judicial_anterior', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Proceso judicial anterior</label>\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Forma de Ingreso</label>\r\n                <select\r\n                  name=\"forma_ingreso\"\r\n                  value={formData.forma_ingreso}\r\n                  onChange={handleChange}\r\n                  className=\"w-full border rounded-md px-3 py-2\"\r\n                >\r\n                  <option value=\"\">Seleccionar...</option>\r\n                  <option value=\"medida_cautelar\">Medida Cautelar</option>\r\n                  <option value=\"sancion_privativa\">Sanci√≥n Privativa</option>\r\n                  <option value=\"traslado\">Traslado</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 3: ESTADO F√çSICO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">ESTADO F√çSICO AL MOMENTO DE SU INGRESO</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Golpes</label>\r\n                <Textarea\r\n                  name=\"golpes\"\r\n                  value={formData.golpes}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Heridas</label>\r\n                <Textarea\r\n                  name=\"heridas\"\r\n                  value={formData.heridas}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Cicatrices</label>\r\n                <Textarea\r\n                  name=\"cicatrices\"\r\n                  value={formData.cicatrices}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Enfermedad</label>\r\n                <Textarea\r\n                  name=\"enfermedad\"\r\n                  value={formData.enfermedad}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Impedimentos f√≠sicos</label>\r\n                <Textarea\r\n                  name=\"impedimentos_fisicos\"\r\n                  value={formData.impedimentos_fisicos}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Ansiedad</label>\r\n                <Textarea\r\n                  name=\"ansiedad\"\r\n                  value={formData.ansiedad}\r\n                  onChange={handleChange}\r\n                  rows={2}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Personal del √°rea m√©dica que lo atendi√≥</label>\r\n                <Input\r\n                  name=\"personal_medico_atendio\"\r\n                  value={formData.personal_medico_atendio}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 4: APREHENSI√ìN Y TRASLADO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">APREHENSI√ìN Y TRASLADO AL CPI</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Fecha de Aprehensi√≥n</label>\r\n                <Input\r\n                  name=\"fecha_aprehension\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_aprehension}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Qui√©n lo aprehendi√≥</label>\r\n                <Input\r\n                  name=\"quien_aprehendio\"\r\n                  value={formData.quien_aprehendio}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"golpeado_aprehension\"\r\n                  checked={formData.golpeado_aprehension}\r\n                  onChange={(e) => handleBooleanChange('golpeado_aprehension', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Fue golpeado durante aprehensi√≥n</label>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"golpeado_traslado\"\r\n                  checked={formData.golpeado_traslado}\r\n                  onChange={(e) => handleBooleanChange('golpeado_traslado', e.target.checked)}\r\n                />\r\n                <label className=\"text-sm font-medium\">Fue golpeado durante traslado</label>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Qui√©n traslad√≥ al CPI</label>\r\n                <Input\r\n                  name=\"quien_traslado\"\r\n                  value={formData.quien_traslado}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Nombre del supervisor</label>\r\n                <Input\r\n                  name=\"nombre_supervisor_seguridad\"\r\n                  value={formData.nombre_supervisor_seguridad}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium mb-1\">Fecha de entrevista</label>\r\n                <Input\r\n                  name=\"fecha_entrevista\"\r\n                  type=\"date\"\r\n                  value={formData.fecha_entrevista}\r\n                  onChange={handleChange}\r\n                />\r\n              </div>\r\n              <div className=\"md:col-span-2\">\r\n                <label className=\"block text-sm font-medium mb-1\">Observaciones</label>\r\n                <Textarea\r\n                  name=\"observaciones\"\r\n                  value={formData.observaciones}\r\n                  onChange={handleChange}\r\n                  rows={4}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Botones de acci√≥n */}\r\n          <div className=\"flex gap-2 justify-end pt-4 border-t\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\r\n              Cancelar\r\n            </Button>\r\n            <Button type=\"submit\" disabled={guardando} className=\"flex items-center gap-2\">\r\n              <Save className=\"h-4 w-4\" />\r\n              {guardando ? 'Guardando...' : 'Actualizar Ficha'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/app/dashboard/seguridad/ver-ficha.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Eye, X, Edit, Download, Printer } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface FichaSeguridad {\r\n  id: number;\r\n  codigo_expediente: string;\r\n  nombre_adolescente: string;\r\n  expediente_administrativo: string;\r\n  edad: string;\r\n  fecha_nacimiento: string;\r\n  originario: string;\r\n  residente: string;\r\n  fecha_ingreso: string;\r\n  hora_ingreso: string;\r\n  numero_dni: string;\r\n  alias: string;\r\n  simpatizante: string;\r\n  estado_civil: string;\r\n  grado_escolaridad: string;\r\n  nombre_responsable: string;\r\n  telefono_responsable: string;\r\n  juzgado_remitente: string;\r\n  juez_remite: string;\r\n  expediente_judicial: string;\r\n  numero_oficio_ingreso: string;\r\n  infraccion_penal: string;\r\n  es_reincidente: boolean;\r\n  estado_centro_anterior: boolean;\r\n  proceso_judicial_anterior: boolean;\r\n  forma_ingreso: string;\r\n  golpes: string;\r\n  heridas: string;\r\n  cicatrices: string;\r\n  enfermedad: string;\r\n  impedimentos_fisicos: string;\r\n  ansiedad: string;\r\n  personal_medico_atendio: string;\r\n  fecha_aprehension: string;\r\n  quien_aprehendio: string;\r\n  golpeado_aprehension: boolean;\r\n  golpeado_traslado: boolean;\r\n  quien_traslado: string;\r\n  observaciones: string;\r\n  nombre_supervisor_seguridad: string;\r\n  fecha_entrevista: string;\r\n  foto_persona?: string;\r\n  estado: string;\r\n  fecha_creacion: string;\r\n}\r\n\r\ninterface VerFichaSeguridadProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onEditar: () => void;\r\n  onDescargar: (ficha: FichaSeguridad) => void;\r\n  onImprimir: (ficha: FichaSeguridad) => void;\r\n  ficha: FichaSeguridad | null;\r\n}\r\n\r\nexport function VerFichaSeguridad({ \r\n  isOpen, \r\n  onClose, \r\n  onEditar, \r\n  onDescargar, \r\n  onImprimir, \r\n  ficha \r\n}: VerFichaSeguridadProps) {\r\n  if (!isOpen || !ficha) return null;\r\n\r\n  const formatDate = (dateString: string) => {\r\n    if (!dateString || dateString.trim() === '') return 'No especificado';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('es-ES');\r\n    } catch {\r\n      return 'Fecha inv√°lida';\r\n    }\r\n  };\r\n\r\n  const formatTime = (timeString: string) => {\r\n    if (!timeString || timeString.trim() === '') return 'No especificado';\r\n    return timeString;\r\n  };\r\n\r\n  const formatBoolean = (value: boolean) => value ? 'S√≠' : 'No';\r\n\r\n  const formatText = (text: string) => {\r\n    if (!text || text.trim() === '') return 'No especificado';\r\n    return text;\r\n  };\r\n\r\n  const handleDescargar = () => {\r\n    onDescargar(ficha);\r\n  };\r\n\r\n  const handleImprimir = () => {\r\n    onImprimir(ficha);\r\n  };\r\n\r\n  const handleEditar = () => {\r\n    onEditar();\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-6xl max-h-[95vh] overflow-y-auto\">\r\n        <div className=\"sticky top-0 bg-white border-b p-6\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold\">Ficha de {ficha.nombre_adolescente}</h2>\r\n              <p className=\"text-muted-foreground\">C√≥digo: {ficha.codigo_expediente}</p>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                Estado: <span className={`font-semibold ${\r\n                  ficha.estado === 'activo' ? 'text-green-600' :\r\n                  ficha.estado === 'inactivo' ? 'text-red-600' :\r\n                  'text-blue-600'\r\n                }`}>\r\n                  {ficha.estado?.toUpperCase() || 'NO ESPECIFICADO'}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" size=\"sm\" onClick={handleEditar}>\r\n                <Edit className=\"h-4 w-4 mr-2\" />\r\n                Editar\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={handleDescargar}>\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Descargar\r\n              </Button>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={handleImprimir}>\r\n                <Printer className=\"h-4 w-4 mr-2\" />\r\n                Imprimir\r\n              </Button>\r\n              <Button variant=\"ghost\" size=\"sm\" onClick={onClose}>\r\n                <X className=\"h-5 w-5\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-8\">\r\n          {/* SECCI√ìN 1: FOTO Y DATOS PERSONALES */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n            {/* Columna de Foto */}\r\n            <div className=\"lg:col-span-1\">\r\n              <h3 className=\"text-lg font-semibold mb-4\">FOTO DEL ADOLESCENTE</h3>\r\n              <div className=\"border-2 border-gray-300 rounded-lg p-4 text-center\">\r\n                {ficha.foto_persona ? (\r\n                  <img \r\n                    src={ficha.foto_persona} \r\n                    alt={ficha.nombre_adolescente} \r\n                    className=\"w-32 h-32 object-cover rounded-lg mx-auto\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"py-8\">\r\n                    <Eye className=\"h-12 w-12 text-gray-400 mx-auto mb-2\" />\r\n                    <p className=\"text-sm text-gray-500\">Sin foto</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Columna de Datos Personales */}\r\n            <div className=\"lg:col-span-3\">\r\n              <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS PERSONALES DEL ADOLESCENTE</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <InfoItem label=\"Nombre completo\" value={formatText(ficha.nombre_adolescente)} />\r\n                <InfoItem label=\"No. Expediente Administrativo\" value={formatText(ficha.expediente_administrativo)} />\r\n                <InfoItem label=\"C√≥digo de Expediente\" value={formatText(ficha.codigo_expediente)} />\r\n                <InfoItem label=\"Edad\" value={formatText(ficha.edad)} />\r\n                <InfoItem label=\"Fecha de Nacimiento\" value={formatDate(ficha.fecha_nacimiento)} />\r\n                <InfoItem label=\"Originario\" value={formatText(ficha.originario)} />\r\n                <InfoItem label=\"Residente\" value={formatText(ficha.residente)} />\r\n                <InfoItem label=\"Fecha de Ingreso\" value={formatDate(ficha.fecha_ingreso)} />\r\n                <InfoItem label=\"Hora de Ingreso\" value={formatTime(ficha.hora_ingreso)} />\r\n                <InfoItem label=\"N√∫mero de DNI\" value={formatText(ficha.numero_dni)} />\r\n                <InfoItem label=\"Alias\" value={formatText(ficha.alias)} />\r\n                <InfoItem label=\"Simpatizante\" value={formatText(ficha.simpatizante)} />\r\n                <InfoItem label=\"Estado civil\" value={formatText(ficha.estado_civil)} />\r\n                <InfoItem label=\"Grado de Escolaridad\" value={formatText(ficha.grado_escolaridad)} />\r\n                <InfoItem label=\"Nombre del responsable\" value={formatText(ficha.nombre_responsable)} />\r\n                <InfoItem label=\"Tel√©fono del responsable\" value={formatText(ficha.telefono_responsable)} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 2: DATOS JUDICIALES */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">DATOS JUDICIALES</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <InfoItem label=\"Juzgado remitente\" value={formatText(ficha.juzgado_remitente)} />\r\n              <InfoItem label=\"Juez que remite\" value={formatText(ficha.juez_remite)} />\r\n              <InfoItem label=\"Expediente Judicial\" value={formatText(ficha.expediente_judicial)} />\r\n              <InfoItem label=\"No. de Oficio de Ingreso\" value={formatText(ficha.numero_oficio_ingreso)} />\r\n              <InfoItem label=\"Infracci√≥n Penal\" value={formatText(ficha.infraccion_penal)} />\r\n              <InfoItem label=\"Es reincidente\" value={formatBoolean(ficha.es_reincidente)} />\r\n              <InfoItem label=\"Ha estado en otro Centro\" value={formatBoolean(ficha.estado_centro_anterior)} />\r\n              <InfoItem label=\"Proceso judicial anterior\" value={formatBoolean(ficha.proceso_judicial_anterior)} />\r\n              <InfoItem label=\"Forma de Ingreso\" value={formatText(ficha.forma_ingreso)} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 3: ESTADO F√çSICO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">ESTADO F√çSICO AL INGRESO</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <InfoItem label=\"Golpes\" value={formatText(ficha.golpes)} />\r\n              <InfoItem label=\"Heridas\" value={formatText(ficha.heridas)} />\r\n              <InfoItem label=\"Cicatrices\" value={formatText(ficha.cicatrices)} />\r\n              <InfoItem label=\"Enfermedad\" value={formatText(ficha.enfermedad)} />\r\n              <InfoItem label=\"Impedimentos f√≠sicos\" value={formatText(ficha.impedimentos_fisicos)} />\r\n              <InfoItem label=\"Ansiedad\" value={formatText(ficha.ansiedad)} />\r\n              <InfoItem label=\"Personal m√©dico que atendi√≥\" value={formatText(ficha.personal_medico_atendio)} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* SECCI√ìN 4: APREHENSI√ìN Y TRASLADO */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">APREHENSI√ìN Y TRASLADO</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <InfoItem label=\"Fecha de Aprehensi√≥n\" value={formatDate(ficha.fecha_aprehension)} />\r\n              <InfoItem label=\"Qui√©n lo aprehendi√≥\" value={formatText(ficha.quien_aprehendio)} />\r\n              <InfoItem label=\"Golpeado durante aprehensi√≥n\" value={formatBoolean(ficha.golpeado_aprehension)} />\r\n              <InfoItem label=\"Golpeado durante traslado\" value={formatBoolean(ficha.golpeado_traslado)} />\r\n              <InfoItem label=\"Qui√©n traslad√≥ al CPI\" value={formatText(ficha.quien_traslado)} />\r\n              <InfoItem label=\"Nombre del supervisor\" value={formatText(ficha.nombre_supervisor_seguridad)} />\r\n              <InfoItem label=\"Fecha de entrevista\" value={formatDate(ficha.fecha_entrevista)} />\r\n              <InfoItem label=\"Observaciones\" value={formatText(ficha.observaciones)} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* INFORMACI√ìN DEL SISTEMA */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold mb-4 border-b pb-2\">INFORMACI√ìN DEL SISTEMA</h3>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <InfoItem label=\"Estado\" value={formatText(ficha.estado)} />\r\n              <InfoItem label=\"Fecha de creaci√≥n\" value={formatDate(ficha.fecha_creacion)} />\r\n              <InfoItem label=\"C√≥digo √∫nico\" value={formatText(ficha.codigo_expediente)} />\r\n              \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Componente auxiliar para mostrar informaci√≥n\r\nfunction InfoItem({ label, value }: { label: string; value: string }) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\r\n      <p className=\"text-sm bg-gray-50 p-2 rounded border min-h-[40px] flex items-center\">\r\n        {value || 'No especificado'}\r\n      </p>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/lib/pdf-generator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\r\n\r\nexport interface FichaSeguridad {\r\n  id: number;\r\n  codigo_expediente: string;\r\n  nombre_adolescente: string;\r\n  expediente_administrativo: string;\r\n  edad: string;\r\n  fecha_nacimiento: string;\r\n  originario: string;\r\n  residente: string;\r\n  fecha_ingreso: string;\r\n  hora_ingreso: string;\r\n  numero_dni: string;\r\n  alias: string;\r\n  simpatizante: string;\r\n  estado_civil: string;\r\n  grado_escolaridad: string;\r\n  nombre_responsable: string;\r\n  telefono_responsable: string;\r\n  juzgado_remitente: string;\r\n  juez_remite: string;\r\n  expediente_judicial: string;\r\n  numero_oficio_ingreso: string;\r\n  infraccion_penal: string;\r\n  es_reincidente: boolean;\r\n  estado_centro_anterior: boolean;\r\n  proceso_judicial_anterior: boolean;\r\n  forma_ingreso: string;\r\n  golpes: string;\r\n  heridas: string;\r\n  cicatrices: string;\r\n  enfermedad: string;\r\n  impedimentos_fisicos: string;\r\n  ansiedad: string;\r\n  personal_medico_atendio: string;\r\n  fecha_aprehension: string;\r\n  quien_aprehendio: string;\r\n  golpeado_aprehension: boolean;\r\n  golpeado_traslado: boolean;\r\n  quien_traslado: string;\r\n  observaciones: string;\r\n  nombre_supervisor_seguridad: string;\r\n  fecha_entrevista: string;\r\n  foto_persona?: string;\r\n  estado: string;\r\n  fecha_creacion: string;\r\n}\r\n\r\nexport const generarPDF = (ficha: FichaSeguridad): jsPDF => {\r\n  const pdf = new jsPDF();\r\n  const pageWidth = pdf.internal.pageSize.getWidth();\r\n  const margin = 20;\r\n  let yPosition = 25;\r\n\r\n  // Configuraci√≥n de fuentes\r\n  pdf.setFont('helvetica');\r\n\r\n  // Funci√≥n para formatear fecha\r\n  const formatDate = (dateString: string): string => {\r\n    if (!dateString || dateString.trim() === '') return '__________';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('es-ES');\r\n    } catch {\r\n      return dateString;\r\n    }\r\n  };\r\n\r\n  // Funci√≥n para formatear booleanos\r\n  const formatBoolean = (value: boolean): string => {\r\n    return value ? 'S√≠' : 'No';\r\n  };\r\n\r\n  // Funci√≥n para formatear texto\r\n  const formatText = (text: string): string => {\r\n    if (!text || text.trim() === '') return '__________';\r\n    return text;\r\n  };\r\n\r\n  // Funci√≥n para agregar texto\r\n  const addText = (text: string, x: number, y: number, options: any = {}): number => {\r\n    const { fontSize = 10, isBold = false, align = 'left' } = options;\r\n    \r\n    pdf.setFontSize(fontSize);\r\n    pdf.setFont('helvetica', isBold ? 'bold' : 'normal');\r\n    \r\n    if (align === 'center') {\r\n      const textWidth = pdf.getTextWidth(text);\r\n      x = (pageWidth - textWidth) / 2;\r\n    }\r\n\r\n    pdf.text(text, x, y);\r\n    return y;\r\n  };\r\n\r\n  // Funci√≥n para dibujar l√≠nea horizontal\r\n  const drawLine = (y: number, length: number = pageWidth - margin * 2): void => {\r\n    pdf.setDrawColor(0, 0, 0);\r\n    pdf.setLineWidth(0.5);\r\n    pdf.line(margin, y, margin + length, y);\r\n  };\r\n\r\n  // Funci√≥n para dibujar checkbox\r\n  const drawCheckbox = (x: number, y: number, checked: boolean = false): void => {\r\n    pdf.setDrawColor(0, 0, 0);\r\n    pdf.setLineWidth(0.5);\r\n    pdf.rect(x, y - 3, 4, 4, 'S'); // Cuadrado peque√±o\r\n    \r\n    if (checked) {\r\n      pdf.setFontSize(8);\r\n      pdf.text('‚úì', x + 1, y + 0.5);\r\n    }\r\n  };\r\n\r\n  // ===== P√ÅGINA 1 =====\r\n  \r\n  // Encabezado principal - EXACTAMENTE COMO EN PAG4\r\n  yPosition = addText('CENTRO PEDAGOGICO DE INTERNAMIENTO _____', pageWidth / 2, yPosition, { \r\n    fontSize: 12, \r\n    isBold: true, \r\n    align: 'center' \r\n  });\r\n  \r\n  yPosition += 6;\r\n  \r\n  yPosition = addText('√ÅREA DE SEGURIDAD', pageWidth / 2, yPosition, { \r\n    fontSize: 12, \r\n    isBold: true, \r\n    align: 'center' \r\n  });\r\n  \r\n  yPosition += 8;\r\n  \r\n  yPosition = addText('Ficha de Ingreso', pageWidth / 2, yPosition, { \r\n    fontSize: 14, \r\n    isBold: false, \r\n    align: 'center' \r\n  });\r\n\r\n  yPosition += 12;\r\n\r\n  // DATOS PERSONALES DEL ADOLESCENTE - SIN NEGRITA\r\n  yPosition = addText('DATOS PERSONALES DE ADOLESCENTE', margin, yPosition, { \r\n    fontSize: 11, \r\n    isBold: false \r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // Funci√≥n para agregar texto en dos columnas con l√≠neas\r\n  const addDualField = (leftLabel: string, leftValue: string, rightLabel: string, rightValue: string, y: number): number => {\r\n    // Campo izquierdo\r\n    const leftText = `${leftLabel} : ${leftValue}`;\r\n    addText(leftText, margin, y, { fontSize: 10 });\r\n    \r\n    // Campo derecho\r\n    const rightText = `${rightLabel} : ${rightValue}`;\r\n    addText(rightText, pageWidth / 2, y, { fontSize: 10 });\r\n    \r\n    return y + 7;\r\n  };\r\n\r\n  // Datos personales - EXACTAMENTE COMO EN PAG4\r\n  yPosition = addDualField(\r\n    'Nombre', formatText(ficha.nombre_adolescente),\r\n    'No. de Expediente Administrativo', formatText(ficha.expediente_administrativo),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'Edad', formatText(ficha.edad),\r\n    'Fecha de Nacimiento', formatDate(ficha.fecha_nacimiento),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'Originario', formatText(ficha.originario),\r\n    'Residente', formatText(ficha.residente),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'Fecha de Ingreso', formatDate(ficha.fecha_ingreso),\r\n    'Hora de Ingreso', formatText(ficha.hora_ingreso),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'N√∫mero de DNI', formatText(ficha.numero_dni),\r\n    'Alias', formatText(ficha.alias),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'Simpatizante', formatText(ficha.simpatizante),\r\n    'Estado civil', formatText(ficha.estado_civil),\r\n    yPosition\r\n  );\r\n\r\n  yPosition = addDualField(\r\n    'Grado de Escolaridad', formatText(ficha.grado_escolaridad),\r\n    'Nombre del responsable', formatText(ficha.nombre_responsable),\r\n    yPosition\r\n  );\r\n\r\n  // √öltimo campo solo - con l√≠nea\r\n  const telefonoText = `Tel√©fono de la persona Responsable : ${formatText(ficha.telefono_responsable)}`;\r\n  addText(telefonoText, margin, yPosition, { fontSize: 10 });\r\n  yPosition += 7;\r\n\r\n  // ===== P√ÅGINA 2 =====\r\n  pdf.addPage();\r\n  yPosition = 25;\r\n\r\n  // DATOS JUDICIALES - EXACTAMENTE COMO EN PAG5\r\n  yPosition = addText('DATOS JUDICIALES', pageWidth / 2, yPosition, { \r\n    fontSize: 14, \r\n    isBold: true, \r\n    align: 'center' \r\n  });\r\n\r\n  yPosition += 10;\r\n\r\n  // Datos judiciales - uno por l√≠nea con l√≠neas\r\n  const datosJudiciales = [\r\n    { label: 'Juzgado remitente', value: formatText(ficha.juzgado_remitente) },\r\n    { label: 'Juez que Remite al adolescente', value: formatText(ficha.juez_remite) },\r\n    { label: 'Expediente Judicial', value: formatText(ficha.expediente_judicial) },\r\n    { label: 'No. de Oficio de Ingreso', value: formatText(ficha.numero_oficio_ingreso) },\r\n    { label: 'Infracci√≥n Penal por la que ingreso', value: formatText(ficha.infraccion_penal) },\r\n    { label: 'Es reincidente', value: formatBoolean(ficha.es_reincidente) },\r\n    { label: 'Ha estado en Otro Centro Pedag√≥gico de Intenamiento', value: formatBoolean(ficha.estado_centro_anterior) },\r\n    { label: 'Ha estado sometido a otro Proceso Judicial', value: formatBoolean(ficha.proceso_judicial_anterior) }\r\n  ];\r\n\r\n  datosJudiciales.forEach(item => {\r\n    const fullText = `${item.label} : ${item.value}`;\r\n    addText(fullText, margin, yPosition, { fontSize: 10 });\r\n    yPosition += 6;\r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // FORMA DE INGRESO - CON CHECKBOXES COMO EN PAG5\r\n  yPosition = addText('Forma de Ingreso:', margin, yPosition, { \r\n    fontSize: 12, \r\n    isBold: true \r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // Opciones de forma de ingreso con checkboxes\r\n  const formasIngreso = [\r\n    'Cumplimiento de Medida Cautelar',\r\n    'Sanci√≥n Privativa de Libertad', \r\n    'Traslado'\r\n  ];\r\n\r\n  formasIngreso.forEach((forma, index) => {\r\n    const isSelected = ficha.forma_ingreso?.toLowerCase().includes(forma.toLowerCase());\r\n    drawCheckbox(margin, yPosition + 1, isSelected);\r\n    addText(`${index + 1}. ${forma}`, margin + 8, yPosition, { fontSize: 10 });\r\n    yPosition += 6;\r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // L√≠nea divisoria como en PAG5\r\n  drawLine(yPosition, 50);\r\n  yPosition += 12;\r\n\r\n  // ESTADO F√çSICO - EXACTAMENTE COMO EN PAG5\r\n  yPosition = addText('ESTADO F√çSICO AL MOMENTO DE SU INGRESO', pageWidth / 2, yPosition, { \r\n    fontSize: 14, \r\n    isBold: true, \r\n    align: 'center' \r\n  });\r\n\r\n  yPosition += 10;\r\n\r\n  // Estado f√≠sico\r\n  const estadoFisico = [\r\n    { label: 'Golpes', value: formatText(ficha.golpes) },\r\n    { label: 'Heridas', value: formatText(ficha.heridas) },\r\n    { label: 'Cicatrices', value: formatText(ficha.cicatrices) },\r\n    { label: 'Enfermedad', value: formatText(ficha.enfermedad) },\r\n    { label: 'Impedimentos f√≠sicos', value: formatText(ficha.impedimentos_fisicos) },\r\n    { label: 'Ansiedad', value: formatText(ficha.ansiedad) },\r\n    { label: 'Personal del √°rea m√©dica que lo atendi√≥', value: formatText(ficha.personal_medico_atendio) }\r\n  ];\r\n\r\n  estadoFisico.forEach(item => {\r\n    const fullText = `${item.label} : ${item.value}`;\r\n    addText(fullText, margin, yPosition, { fontSize: 10 });\r\n    yPosition += 6;\r\n  });\r\n\r\n  // ===== P√ÅGINA 3 =====\r\n  pdf.addPage();\r\n  yPosition = 25;\r\n\r\n  // APREHENSI√ìN Y TRASLADO - EXACTAMENTE COMO EN PAG6\r\n  yPosition = addText('APREHENSION Y TRASLADO AL CPI', pageWidth / 2, yPosition, { \r\n    fontSize: 14, \r\n    isBold: true, \r\n    align: 'center' \r\n  });\r\n\r\n  yPosition += 12;\r\n\r\n  // Datos de aprehensi√≥n\r\n  const aprehension = [\r\n    { label: 'Fecha de Aprehensi√≥n', value: formatDate(ficha.fecha_aprehension) },\r\n    { label: 'Quien lo aprehendi√≥', value: formatText(ficha.quien_aprehendio) },\r\n    { label: 'Fue golpeado o maltratado durante su Aprehensi√≥n', value: formatBoolean(ficha.golpeado_aprehension) },\r\n    { label: 'Fue golpeado o maltratado durante su traslado al CPI', value: formatBoolean(ficha.golpeado_traslado) },\r\n    { label: 'Por quien fue trasladado al CPI', value: formatText(ficha.quien_traslado) }\r\n  ];\r\n\r\n  aprehension.forEach(item => {\r\n    const fullText = `${item.label} : ${item.value}`;\r\n    addText(fullText, margin, yPosition, { fontSize: 10 });\r\n    yPosition += 7;\r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // OBSERVACIONES - CON M√öLTIPLES L√çNEAS COMO EN PAG6\r\n  yPosition = addText('OBSERVACIONES:', margin, yPosition, { \r\n    fontSize: 12, \r\n    isBold: true \r\n  });\r\n\r\n  yPosition += 8;\r\n\r\n  // Campo de observaciones - 4 l√≠neas como en PAG6\r\n  if (ficha.observaciones) {\r\n    const lineas = pdf.splitTextToSize(ficha.observaciones, pageWidth - margin * 2);\r\n    lineas.forEach((linea: string, index: number) => {\r\n      if (index < 4) {\r\n        addText(linea || '__________', margin, yPosition, { fontSize: 10 });\r\n        yPosition += 6;\r\n      }\r\n    });\r\n    // Completar con l√≠neas vac√≠as si es necesario\r\n    for (let i = lineas.length; i < 4; i++) {\r\n      addText('__________', margin, yPosition, { fontSize: 10 });\r\n      yPosition += 6;\r\n    }\r\n  } else {\r\n    for (let i = 0; i < 4; i++) {\r\n      addText('__________', margin, yPosition, { fontSize: 10 });\r\n      yPosition += 6;\r\n    }\r\n  }\r\n\r\n  yPosition += 8;\r\n\r\n  // Informaci√≥n final\r\n  addText(`Nombre del supervisor de Seguridad: ${formatText(ficha.nombre_supervisor_seguridad)}`, margin, yPosition, { fontSize: 10 });\r\n  yPosition += 7;\r\n  \r\n  addText(`Fecha de la Entrevista: ${formatDate(ficha.fecha_entrevista)}`, margin, yPosition, { fontSize: 10 });\r\n\r\n  yPosition += 15;\r\n\r\n  // FIRMAS - EXACTAMENTE COMO EN PAG6\r\n  const firmaWidth = 70;\r\n  const espacioEntreFirmas = 20;\r\n  \r\n  // Texto de firmas primero (como en PAG6)\r\n  addText('Firma del NNA', margin, yPosition, { fontSize: 10, isBold: true });\r\n  addText('Firma', margin + firmaWidth + espacioEntreFirmas, yPosition, { fontSize: 10, isBold: true });\r\n  \r\n  yPosition += 4;\r\n  \r\n  addText('Supervisor de Seguridad', margin + firmaWidth + espacioEntreFirmas, yPosition, { fontSize: 10, isBold: true });\r\n  \r\n  yPosition += 8;\r\n  \r\n  // L√≠neas para firmas debajo del texto\r\n  drawLine(yPosition, firmaWidth);\r\n  drawLine(yPosition, firmaWidth, margin + firmaWidth + espacioEntreFirmas);\r\n\r\n  return pdf;\r\n};\r\n\r\n// Funciones auxiliares\r\nexport const descargarPDF = (ficha: FichaSeguridad, nombreArchivo: string = 'ficha_ingreso_seguridad.pdf'): void => {\r\n  const pdf = generarPDF(ficha);\r\n  pdf.save(nombreArchivo);\r\n};\r\n\r\nexport const verPDF = (ficha: FichaSeguridad): void => {\r\n  const pdf = generarPDF(ficha);\r\n  const blob = pdf.output('blob');\r\n  const url = URL.createObjectURL(blob);\r\n  window.open(url, '_blank');\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4631, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/Desktop/NuevoProyecto/src/app/dashboard/seguridad/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { Search, Plus, Download, Edit, Eye, Trash2, Printer, Filter, RefreshCw } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { CrearFichaSeguridad } from './crear-ficha';\r\nimport { EditarFichaSeguridad } from './editar-ficha';\r\nimport { VerFichaSeguridad } from './ver-ficha';\r\nimport { backendService } from '@/lib/backend-service';\r\nimport jsPDF from 'jspdf';\r\nimport { generarPDF } from '@/lib/pdf-generator';\r\n\r\ninterface FichaSeguridad {\r\n  id: number;\r\n  codigo_expediente: string;\r\n  nombre_adolescente: string;\r\n  expediente_administrativo: string;\r\n  edad: string;\r\n  fecha_nacimiento: string;\r\n  originario: string;\r\n  residente: string;\r\n  fecha_ingreso: string;\r\n  hora_ingreso: string;\r\n  numero_dni: string;\r\n  alias: string;\r\n  simpatizante: string;\r\n  estado_civil: string;\r\n  grado_escolaridad: string;\r\n  nombre_responsable: string;\r\n  telefono_responsable: string;\r\n  juzgado_remitente: string;\r\n  juez_remite: string;\r\n  expediente_judicial: string;\r\n  numero_oficio_ingreso: string;\r\n  infraccion_penal: string;\r\n  es_reincidente: boolean;\r\n  estado_centro_anterior: boolean;\r\n  proceso_judicial_anterior: boolean;\r\n  forma_ingreso: string;\r\n  golpes: string;\r\n  heridas: string;\r\n  cicatrices: string;\r\n  enfermedad: string;\r\n  impedimentos_fisicos: string;\r\n  ansiedad: string;\r\n  personal_medico_atendio: string;\r\n  fecha_aprehension: string;\r\n  quien_aprehendio: string;\r\n  golpeado_aprehension: boolean;\r\n  golpeado_traslado: boolean;\r\n  quien_traslado: string;\r\n  observaciones: string;\r\n  nombre_supervisor_seguridad: string;\r\n  fecha_entrevista: string;\r\n  foto_persona?: string;\r\n  estado: string;\r\n  fecha_creacion: string;\r\n}\r\n\r\n// Datos mock como respaldo\r\nconst mockFichas: FichaSeguridad[] = [\r\n  {\r\n    id: 1,\r\n    codigo_expediente: 'EXP-2024-001',\r\n    nombre_adolescente: 'Juan P√©rez',\r\n    expediente_administrativo: 'ADM-2024-001',\r\n    edad: '16',\r\n    fecha_nacimiento: '2008-01-15',\r\n    originario: 'Ciudad de M√©xico',\r\n    residente: 'Ciudad de M√©xico',\r\n    fecha_ingreso: '2024-01-15',\r\n    hora_ingreso: '14:30',\r\n    numero_dni: '12345678',\r\n    alias: 'JP',\r\n    simpatizante: 'No',\r\n    estado_civil: 'Soltero',\r\n    grado_escolaridad: 'Secundaria',\r\n    nombre_responsable: 'Mar√≠a P√©rez',\r\n    telefono_responsable: '555-1234',\r\n    juzgado_remitente: 'Juzgado Primero',\r\n    juez_remite: 'Juez Mart√≠nez',\r\n    expediente_judicial: 'J-2024-001',\r\n    numero_oficio_ingreso: 'OF-2024-001',\r\n    infraccion_penal: 'Robo',\r\n    es_reincidente: false,\r\n    estado_centro_anterior: false,\r\n    proceso_judicial_anterior: false,\r\n    forma_ingreso: 'Voluntario',\r\n    golpes: 'No presenta',\r\n    heridas: 'No presenta',\r\n    cicatrices: 'No presenta',\r\n    enfermedad: 'Ninguna',\r\n    impedimentos_fisicos: 'Ninguno',\r\n    ansiedad: 'Leve',\r\n    personal_medico_atendio: 'Dr. Garc√≠a',\r\n    fecha_aprehension: '2024-01-14',\r\n    quien_aprehendio: 'Polic√≠a Municipal',\r\n    golpeado_aprehension: false,\r\n    golpeado_traslado: false,\r\n    quien_traslado: 'Patrulla 245',\r\n    observaciones: 'Adolescente colaborativo',\r\n    nombre_supervisor_seguridad: 'Carlos L√≥pez',\r\n    fecha_entrevista: '2024-01-15',\r\n    foto_persona: undefined,\r\n    estado: 'activo',\r\n    fecha_creacion: '2024-01-15'\r\n  },\r\n];\r\n\r\nexport default function SeguridadPage() {\r\n  const [fichas, setFichas] = useState<FichaSeguridad[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterEstado, setFilterEstado] = useState('');\r\n  const [modalAbierto, setModalAbierto] = useState<'crear' | 'ver' | 'editar' | null>(null);\r\n  const [fichaSeleccionada, setFichaSeleccionada] = useState<FichaSeguridad | null>(null);\r\n  const [cargando, setCargando] = useState(true);\r\n  const [conexionEstado, setConexionEstado] = useState<{ success: boolean; message: string } | null>(null);\r\n\r\n  // ‚úÖ CONECTAR AL BACKEND REAL (Next.js API Routes)\r\n  const cargarFichas = async () => {\r\n    try {\r\n      setCargando(true);\r\n      console.log('üîó Cargando fichas desde API Routes...');\r\n      \r\n      const fichasData = await backendService.obtenerFichas();\r\n      console.log('‚úÖ Fichas cargadas:', fichasData.length);\r\n      setFichas(fichasData);\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error cargando fichas:', error);\r\n      // Usar datos mock como respaldo\r\n      setFichas(mockFichas);\r\n      console.log('üìã Usando datos de demostraci√≥n');\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  // ‚úÖ ELIMINAR FICHA (Opci√≥n recomendada - MEJORADA)\r\nconst eliminarFicha = async (id: number, nombre: string) => {\r\n  if (confirm(`¬øEst√° seguro de que desea eliminar la ficha de \"${nombre}\"?\\n\\nEsta acci√≥n no se puede deshacer.`)) {\r\n    try {\r\n      console.log('üóëÔ∏è Eliminando ficha:', id);\r\n      \r\n      // Convertir ID a string\r\n      const idString = id.toString();\r\n      await backendService.eliminarFicha(idString);\r\n      \r\n      // Actualizar la lista local\r\n      setFichas(fichas.filter(f => f.id !== id));\r\n      console.log('‚úÖ Ficha eliminada exitosamente');\r\n      \r\n    } catch (error: any) {\r\n      console.error('‚ùå Error eliminando ficha:', error);\r\n      alert('Error al eliminar la ficha: ' + error.message);\r\n    }\r\n  }\r\n};\r\n\r\n  // ‚úÖ CREAR FICHA\r\n  const handleFichaCreada = async (nuevaFicha: Omit<FichaSeguridad, 'id'>) => {\r\n    try {\r\n      const resultado = await backendService.crearFicha(nuevaFicha);\r\n      await cargarFichas(); // Recargar la lista\r\n      setModalAbierto(null);\r\n      alert('Ficha creada exitosamente');\r\n    } catch (error: any) {\r\n      alert('Error al crear la ficha: ' + error.message);\r\n    }\r\n  };\r\n\r\n// ‚úÖ ACTUALIZAR FICHA\r\nconst handleFichaActualizada = async (fichaActualizada: FichaSeguridad) => {\r\n  try {\r\n    // Convertir el ID de number a string\r\n    const idString = fichaActualizada.id.toString();\r\n    \r\n    await backendService.actualizarFicha(idString, fichaActualizada);\r\n    await cargarFichas(); // Recargar la lista\r\n    setModalAbierto(null);\r\n    alert('Ficha actualizada exitosamente');\r\n  } catch (error: any) {\r\n    alert('Error al actualizar la ficha: ' + error.message);\r\n  }\r\n};\r\n\r\n  // ‚úÖ PROBAR CONEXI√ìN\r\n  const probarConexion = async () => {\r\n    try {\r\n      setConexionEstado(null);\r\n      const resultado = await backendService.probarConexion();\r\n      setConexionEstado(resultado);\r\n      \r\n      if (resultado.success) {\r\n        // Recargar fichas si la conexi√≥n es exitosa\r\n        await cargarFichas();\r\n      }\r\n    } catch (error) {\r\n      setConexionEstado({\r\n        success: false,\r\n        message: 'Error probando conexi√≥n'\r\n      });\r\n    }\r\n  };\r\n\r\n  // Cargar fichas al iniciar\r\n  useEffect(() => {\r\n    cargarFichas();\r\n  }, []);\r\n\r\n  const filtrarFichas = fichas.filter(ficha => {\r\n    const coincideBusqueda = \r\n      ficha.nombre_adolescente.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      ficha.codigo_expediente.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      ficha.expediente_judicial.toLowerCase().includes(searchTerm.toLowerCase());\r\n    \r\n    const coincideEstado = filterEstado ? ficha.estado === filterEstado : true;\r\n    \r\n    return coincideBusqueda && coincideEstado;\r\n  });\r\n\r\n  const abrirVerFicha = (ficha: FichaSeguridad) => {\r\n    setFichaSeleccionada(ficha);\r\n    setModalAbierto('ver');\r\n  };\r\n\r\n  const abrirEditarFicha = (ficha: FichaSeguridad) => {\r\n    setFichaSeleccionada(ficha);\r\n    setModalAbierto('editar');\r\n  };\r\n\r\nconst descargarPDF = async (ficha: FichaSeguridad) => {\r\n  try {\r\n    const pdf = generarPDF(ficha); // ‚Üê Usa la funci√≥n importada\r\n    pdf.save(`ficha-seguridad-${ficha.codigo_expediente}.pdf`);\r\n  } catch (error) {\r\n    console.error('Error descargando PDF:', error);\r\n    alert('Error al descargar la ficha');\r\n  }\r\n};\r\n\r\nconst imprimirFicha = async (ficha: FichaSeguridad) => {\r\n  try {\r\n    const pdf = generarPDF(ficha); // ‚Üê Usa la funci√≥n importada\r\n    pdf.autoPrint();\r\n    const pdfBlob = pdf.output('blob');\r\n    const pdfUrl = URL.createObjectURL(pdfBlob);\r\n    const printWindow = window.open(pdfUrl);\r\n    if (printWindow) {\r\n      printWindow.onload = () => {\r\n        printWindow.print();\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Error imprimiendo ficha:', error);\r\n    alert('Error al imprimir la ficha');\r\n  }\r\n};\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header con estado de conexi√≥n */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">√Årea de Seguridad</h1>\r\n          <p className=\"text-muted-foreground\">Gesti√≥n de Fichas de Ingreso</p>\r\n          \r\n          {conexionEstado && (\r\n            <div className={`text-sm mt-1 ${\r\n              conexionEstado.success ? 'text-green-600' : 'text-red-600'\r\n            }`}>\r\n              {conexionEstado.message}\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"flex gap-2\">\r\n          <Button \r\n            variant=\"outline\" \r\n            onClick={probarConexion}\r\n            className=\"flex items-center gap-2\"\r\n            disabled={cargando}\r\n          >\r\n            <RefreshCw className={`h-4 w-4 ${cargando ? 'animate-spin' : ''}`} />\r\n            Probar Conexi√≥n\r\n          </Button>\r\n          \r\n          <Button \r\n            onClick={() => setModalAbierto('crear')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            Nueva Ficha\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros y B√∫squeda */}\r\n      <Card>\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Buscar por nombre, c√≥digo o expediente...\"\r\n                className=\"pl-10\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <select \r\n                value={filterEstado}\r\n                onChange={(e) => setFilterEstado(e.target.value)}\r\n                className=\"border rounded-md px-3 py-2\"\r\n              >\r\n                <option value=\"\">Todos los estados</option>\r\n                <option value=\"activo\">Activo</option>\r\n                <option value=\"inactivo\">Inactivo</option>\r\n                <option value=\"egresado\">Egresado</option>\r\n              </select>\r\n              <Button variant=\"outline\" className=\"flex items-center gap-2\">\r\n                <Filter className=\"h-4 w-4\" />\r\n                Filtros\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Estado de carga */}\r\n      {cargando ? (\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"flex items-center justify-center gap-2\">\r\n            <RefreshCw className=\"h-5 w-5 animate-spin\" />\r\n            Cargando fichas...\r\n          </div>\r\n          <div className=\"text-sm text-muted-foreground mt-2\">\r\n            Conectando con el sistema...\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-4\">\r\n          {filtrarFichas.length === 0 ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              No se encontraron fichas. \r\n              {fichas === mockFichas && (\r\n                <div className=\"mt-2\">\r\n                  <div>‚ö†Ô∏è Usando datos de demostraci√≥n</div>\r\n                  <button \r\n                    onClick={cargarFichas}\r\n                    className=\"text-blue-500 hover:text-blue-700 text-sm mt-1\"\r\n                  >\r\n                    Reintentar conexi√≥n\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            filtrarFichas.map((ficha) => (\r\n              <Card key={ficha.id} className=\"hover:shadow-md transition-shadow\">\r\n                <CardContent className=\"p-4\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"space-y-2 flex-1\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div>\r\n                          <h3 className=\"font-semibold text-lg\">{ficha.nombre_adolescente}</h3>\r\n                          <div className=\"flex flex-wrap gap-4 text-sm text-muted-foreground mt-1\">\r\n                            <span>\r\n                              <strong>Exp. Admin:</strong> {ficha.codigo_expediente}\r\n                            </span>\r\n                            <span>\r\n                              <strong>Exp. Judicial:</strong> {ficha.expediente_judicial}\r\n                            </span>\r\n                            <span>\r\n                              <strong>Juzgado:</strong> {ficha.juzgado_remitente}\r\n                            </span>\r\n                            <span>\r\n                              <strong>Ingreso:</strong> {new Date(ficha.fecha_ingreso).toLocaleDateString()}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                        <span className={`px-2 py-1 rounded-full text-xs ${\r\n                          ficha.estado === 'activo' ? 'bg-green-100 text-green-800' :\r\n                          ficha.estado === 'inactivo' ? 'bg-gray-100 text-gray-800' :\r\n                          'bg-yellow-100 text-yellow-800'\r\n                        }`}>\r\n                          {ficha.estado}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-2 ml-4\">\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => abrirVerFicha(ficha)}>\r\n                        <Eye className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => abrirEditarFicha(ficha)}>\r\n                        <Edit className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => descargarPDF(ficha)}>\r\n                        <Download className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"outline\" size=\"sm\" onClick={() => imprimirFicha(ficha)}>\r\n                        <Printer className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button \r\n                        variant=\"outline\" \r\n                        size=\"sm\" \r\n                        onClick={() => eliminarFicha(ficha.id, ficha.nombre_adolescente)}\r\n                        className=\"text-red-600 hover:text-red-800\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modales */}\r\n      {modalAbierto === 'crear' && (\r\n        <CrearFichaSeguridad \r\n          isOpen={true}\r\n          onClose={() => setModalAbierto(null)}\r\n          onFichaCreada={handleFichaCreada}\r\n        />\r\n      )}\r\n\r\n      {modalAbierto === 'editar' && fichaSeleccionada && (\r\n        <EditarFichaSeguridad\r\n          isOpen={true}\r\n          onClose={() => setModalAbierto(null)}\r\n          onFichaActualizada={handleFichaActualizada}\r\n          ficha={fichaSeleccionada}\r\n        />\r\n      )}\r\n\r\n      {modalAbierto === 'ver' && fichaSeleccionada && (\r\n        <VerFichaSeguridad\r\n          isOpen={true}\r\n          onClose={() => setModalAbierto(null)}\r\n          onEditar={() => setModalAbierto('editar')}\r\n          onDescargar={descargarPDF}\r\n          onImprimir={imprimirFicha}\r\n          ficha={fichaSeleccionada}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}